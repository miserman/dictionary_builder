"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{26063:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var o=a(95155),r=a(26803),l=a(66179),i=a(78451),n=a(95503),s=a(64714),c=a(81197),u=a(95574),p=a(12115),y=a(54581),g=a(38252),h=a(24710);function f(e){e&&e._chartsViews&&e._chartsViews.forEach(e=>{e._layouting&&(e._layouting=!1,clearTimeout(e._layoutTimeout))})}function d(e){let{allNodes:t,edges:a,options:d}=e,m=(0,p.useContext)(g.zn),b=(0,p.useContext)(h.bq),v=(0,p.useRef)(null);return(0,p.useEffect)(()=>{(0,r.Y)([i.a,s.a,u.a,c.a,n.a]);let e=v.current?(0,l.Ts)(v.current,"dark",{renderer:"canvas"}):null,t=()=>e&&e.resize();return e&&e.on("click",e=>{("node"===e.dataType||"graphGL"===e.componentSubType)&&(m(e.name,!0),b({type:"add",state:{type:"term",value:e.name}}))}),window.addEventListener("resize",t),()=>{e&&(f(e),e.dispose()),window.removeEventListener("resize",t)}},[d.layout,m,b]),(0,p.useEffect)(()=>{if(v.current){let e=(0,l.FP)(v.current);if(e){f(e);let o=t;if(d.hide_zeros&&(o=o.filter(e=>!!e.value)),o=o.map(e=>(e.label={show:e.value>=d.label_threshold},e)),a.length){let t={};o.forEach(e=>{"string"!=typeof e.category&&(e.category=e.category[0]),t[e.category]=!0,e.symbolSize=d.size_by_value?7+18*e.prop:10});let r=Object.keys(t).map(e=>({name:e}));e.setOption({legend:{align:"right",right:"right",orient:"vertical",type:"plain",pageButtonGap:10},tooltip:{confine:!0,formatter:e=>e.marker+(e.data.host?"<i>("+e.data.host+")</i> ":"")+e.name+": <strong>"+e.value.toFixed(3)+"</strong>"},backgroundColor:"#000",series:["forceAtlas2"===d.layout?{type:"graphGL",nodes:o,edges:a,categories:r,roam:!0,label:{show:!0,position:"top",color:"#fff"},lineStyle:{color:"source"},emphasis:{focus:"adjacency",lineStyle:{color:"#fff",opacity:1,width:10}}}:{type:"graph",layout:d.layout,nodes:o,edges:a,categories:r,roam:!0,label:{show:!0,position:"top"},emphasis:{focus:"adjacency",itemStyle:{opacity:1},label:{opacity:1},lineStyle:{width:10,opacity:1}},blur:{itemStyle:{opacity:.3},lineStyle:{opacity:.3},label:{opacity:.3}},autoCurveness:!0,draggable:!0,force:{repulsion:d.repulsion,gravity:d.gravity,edgeLength:d.edge_length},circular:{rotateLabel:!0},lineStyle:{color:"source"}}]},!1,"forceAtlas2"!==d.layout)}else e.clear()}}},[t,a,d,m,b]),(0,o.jsx)(y.A,{ref:v,sx:{width:"100%",height:"100%",minHeight:"10px"}})}}}]);