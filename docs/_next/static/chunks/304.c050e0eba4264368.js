"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{19304:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var o=a(95155),r=a(75212),l=a(51843),i=a(75731),n=a(38779),s=a(21866),c=a(38582),u=a(92308),p=a(12115),y=a(68998),g=a(69265),h=a(76719);function f(e){e&&e._chartsViews&&e._chartsViews.forEach(e=>{e._layouting&&(e._layouting=!1,clearTimeout(e._layoutTimeout))})}function d(e){let{nodes:t,edges:a,options:r}=e,i=(0,p.useContext)(g.zn),n=(0,p.useContext)(h.bq),s=(0,p.useRef)(null);return(0,p.useEffect)(()=>{let e=s.current?(0,l.Ts)(s.current,"dark",{renderer:"canvas"}):null,t=()=>e&&e.resize();return e&&e.on("click",e=>{("node"===e.dataType||"graphGL"===e.componentSubType)&&(i(e.name,!0),n({type:"add",state:{type:"term",value:e.name}}))}),window.addEventListener("resize",t),()=>{e&&(f(e),e.dispose()),window.removeEventListener("resize",t)}},[r.layout]),(0,p.useEffect)(()=>{if(s.current){let e=(0,l.FP)(s.current);if(e){if(f(e),r.hide_zeros&&(t=t.filter(e=>!!e.value)),t=t.map(e=>(e.label={show:e.value>=r.label_threshold},e)),a.length){let o={};t.forEach(e=>{"string"!=typeof e.category&&(e.category=e.category[0]),o[e.category]=!0,e.symbolSize=r.size_by_value?7+18*e.prop:10});let l=Object.keys(o).map(e=>({name:e}));e.setOption({legend:{align:"right",right:"right",orient:"vertical",type:"plain",pageButtonGap:10},tooltip:{confine:!0,formatter:e=>e.marker+(e.data.host?"<i>("+e.data.host+")</i> ":"")+e.name+": <strong>"+e.value.toFixed(3)+"</strong>"},backgroundColor:"#000",series:["forceAtlas2"===r.layout?{type:"graphGL",nodes:t,edges:a,categories:l,roam:!0,label:{show:!0,position:"top",color:"#fff"},lineStyle:{color:"source"},emphasis:{focus:"adjacency",lineStyle:{color:"#fff",opacity:1,width:10}}}:{type:"graph",layout:r.layout,nodes:t,edges:a,categories:l,roam:!0,label:{show:!0,position:"top"},emphasis:{focus:"adjacency",itemStyle:{opacity:1},label:{opacity:1},lineStyle:{width:10,opacity:1}},blur:{itemStyle:{opacity:.3},lineStyle:{opacity:.3},label:{opacity:.3}},autoCurveness:!0,draggable:!0,force:{repulsion:r.repulsion,gravity:r.gravity,edgeLength:r.edge_length},circular:{rotateLabel:!0},lineStyle:{color:"source"}}]},!1,"forceAtlas2"!==r.layout)}else e.clear()}}},[t,a,r]),(0,o.jsx)(y.A,{ref:s,sx:{width:"100%",height:"100%",minHeight:"10px"}})}(0,r.Y)([i.a,s.a,u.a,c.a,n.a])}}]);