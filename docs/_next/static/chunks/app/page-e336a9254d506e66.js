(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69:function(e,t,n){Promise.resolve().then(n.bind(n,3900))},3900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ea}});var s=n(7437),r=n(8595),i=n(3948),l=n(3857),a=n(2265);let o=(0,a.createContext)({});function c(e){let{loadingTerms:t,loadingTermAssociations:n,loadingSynsets:r,loadingSynsetInfo:i,children:l}=e,[c,d]=(0,a.useState)(),[x,h]=(0,a.useState)(),[u,m]=(0,a.useState)(),[j,f]=(0,a.useState)(),[p,y]=(0,a.useState)();return(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/terms.txt").then(e=>e.text()).then(e=>{let t=e.split("\n");d(t),h(";;"+t.join(";;")+";;")}).finally(()=>t(!1))},[t]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/term_associations.json").then(e=>e.json()).then(e=>{m(e)}).finally(()=>n(!1))},[n]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synsets.txt").then(e=>e.text()).then(e=>{f(e.split("\n"))}).finally(()=>r(!1))},[r]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synset_info.json").then(e=>e.json()).then(e=>{y(e)}).finally(()=>i(!1))},[i]),(0,s.jsx)(o.Provider,{value:{terms:c,collapsedTerms:x,termAssociations:u,synsets:j,synsetInfo:p},children:l})}let d=["'","'d","'in","'s","ac","age","ant","ary","at","cracy","cy","cycle","d","dom","e","ed","er","es","esque","est","ette","ey","ful","hood","ic","ie","ies","ify","in","ing","ion","ish","ive","ize","let","lets","lette","like","-like","ling","lings","log","ly","ley","ment","nce","ness","or","ous","ousness","ously","r","s","ship","st","th","ties","ty","ur","ward","wise","y","ys","z"],x=/\*/g,h=/^;|;$/g;function u(e,t){return e.length-t.length}let m=(0,a.createContext)({}),j=(0,a.createContext)(e=>{}),f=(0,a.createContext)({}),p=(e,t)=>{let{terms:n,termAssociations:s,synsetInfo:r}=t,i={type:"fixed",term:e,categories:{},recognized:!1,index:n?n.indexOf(e):-1,similar:[],synsets:[]};if(s&&r&&n&&-1!==i.index){i.recognized=!0;let e=s[i.index];e[0]&&(Array.isArray(e[0]),e[0]),i.similar=e[0]?(Array.isArray(e[0])?e[0]:[e[0]]).map(e=>n[e-1]):[],i.synsets=e[1]?(Array.isArray(e[1])?e[1]:[e[1]]).map(e=>r[e-1]):[]}return i},y=(e,t)=>{let n=x.test(e)?";"+e.replace(x,"[^;]*")+";":e;if(n===e)return p(e,t);{let s={type:"fuzzy",term:e,categories:{},recognized:!1,regex:RegExp(n,"g"),matches:[],common_matches:{}};if(t.collapsedTerms)for(let e;e=s.regex.exec(t.collapsedTerms);)s.matches.push(e[0].replace(h,""));return s.matches.length&&(s.recognized=!0,s.common_matches=function(e){let t={},n="";if(e.forEach(e=>{(!n||e.length<n.length)&&(n=e)}),n){let s=RegExp(n+"*");e.forEach(e=>{if(e===n)t[e]={root:n,part:""};else{let r=e.replace(s,"");-1!==d.indexOf(r)&&(t[e]={root:n,part:e.replace(n,"")})}})}return t}(s.matches)),s}};function g(e){let{children:t}=e,n=(0,a.useContext)(o),r=(0,a.useMemo)(()=>({}),[]),[i,l]=(0,a.useReducer)(function(e,t){let s={...e};return"remove"===t.type?delete s[t.term]:("update"===t.type&&delete s[t.originalTerm],t.term in r||(r[t.term]=y(t.term,n)),s[t.term]={categories:t.categories||{},sense:t.sense||""}),s},{});return(0,s.jsx)(m.Provider,{value:i,children:(0,s.jsx)(j.Provider,{value:l,children:(0,s.jsx)(f.Provider,{value:r,children:t})})})}var Z=n(9245),v=n(3457),C=n(3226),k=n(5266),b=n(356),S=n(6882),_=n(8938),A=n(4989),E=n(8123),w=n(502),T=n(5133),z=n(6114),P=n(4949),O=n(9050),I=n(2653),N=n(8469),R=n(9872),F=n(4262),W=n(6337),L=n(2834),U=n(7827),H=n(4111),K=n(604);function M(e){let{info:t}=e,n=(0,a.useContext)(Y);return(0,s.jsx)(O.Z,{variant:"text",fullWidth:!0,sx:{p:0,justifyContent:"flex-start"},onClick:()=>n({type:"add",state:{type:"synset",value:t.key,info:t}}),children:t.key})}let Y=(0,a.createContext)(e=>{});function B(e){let{term:t}=e,n=(0,a.useContext)(o),r=(0,a.useContext)(m),i=(0,a.useContext)(j),l=(0,a.useContext)(f);t in l||(l[t]=y(t,n));let c=l[t];return(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(W.Z,{children:(0,s.jsxs)(v.Z,{direction:"row",spacing:4,children:[c.similar.length?(0,s.jsxs)(v.Z,{children:[(0,s.jsx)(C.Z,{variant:"h5",children:"Similar Terms"}),(0,s.jsx)(Z.Z,{sx:{maxHeight:"20vh",overflowY:"auto"},children:(0,s.jsx)(k.Z,{sx:{p:0},children:c.similar.map(e=>(0,s.jsx)(b.ZP,{sx:{p:0},children:(0,s.jsx)(J,{term:e})},e))})})]}):(0,s.jsx)(s.Fragment,{}),c.synsets.length?(0,s.jsxs)(v.Z,{children:[(0,s.jsx)(C.Z,{variant:"h5",children:"Senses"}),(0,s.jsx)(Z.Z,{sx:{maxHeight:"20vh",overflowY:"auto"},children:(0,s.jsx)(k.Z,{sx:{p:0},children:c.synsets.map(e=>(0,s.jsx)(b.ZP,{sx:{p:0},children:(0,s.jsx)(M,{info:e})},e.key))})})]}):(0,s.jsx)(s.Fragment,{})]})}),(0,s.jsx)(L.Z,{children:(0,s.jsx)(O.Z,{onClick:()=>{i({type:c.term in r?"remove":"add",term:c.term})},children:c.term in r?"Remove":"Add"})})]})}let $=/^\d+-\w$/;function q(e){let{name:t,info:n,ids:r,allInfo:i}=e,l=n[t];return(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(C.Z,{variant:"h5",children:t}),(0,s.jsx)(C.Z,{sx:{paddingLeft:2},children:"members"===t?Array.isArray(l)?l.map(e=>(0,s.jsx)(J,{term:e},e)):(0,s.jsx)(J,{term:l},l):Array.isArray(l)?l.map($.test(l[0])?e=>(0,s.jsx)(M,{info:i[r.indexOf(e)]}):e=>(0,s.jsx)(U.Z,{label:e})):$.test(l)?(0,s.jsx)(M,{info:i[r.indexOf(l)]}):l})]},t)}function D(e){let{info:t}=e,{synsets:n,synsetInfo:r}=(0,a.useContext)(o);return(0,s.jsx)(Z.Z,{children:(0,s.jsx)(W.Z,{children:n&&r?Object.keys(t).map(e=>(0,s.jsx)(q,{name:e,info:t,ids:n,allInfo:r},e)):(0,s.jsx)(s.Fragment,{})})})}function G(e){let{state:t,update:n}=e,[r,i]=(0,a.useState)([0,t.length]);if(!t.length)return;let l=r[0];t.length!=r[1]&&i([0,t.length]);let o=t[l],c=()=>{i([0,0]),n({type:"reset"})};return(0,s.jsxs)(H.ZP,{open:""!==o.value,onClose:c,variant:"persistent",hideBackdrop:!0,anchor:"bottom",children:[(0,s.jsx)(K.Z,{children:(0,s.jsxs)(v.Z,{direction:"row",children:[(0,s.jsx)(O.Z,{onClick:()=>i([l<t.length?l+1:t.length-1,t.length]),disabled:l>=t.length-1,sx:{opacity:.7},children:t.length>l+1?t[l+1].value:""}),(0,s.jsx)(C.Z,{variant:"h4",children:o.value}),(0,s.jsx)(O.Z,{onClick:()=>i([l>0?l-1:0,t.length]),disabled:l<1,sx:{opacity:.7},children:l>0?t[l-1].value:""})]})}),(0,s.jsx)(I.Z,{"aria-label":"Close",sx:{position:"absolute",right:8,top:8},onClick:c,children:(0,s.jsx)(F.Z,{})}),"term"===o.type?(0,s.jsx)(B,{term:o.value}):(0,s.jsx)(D,{info:o.info})]})}function J(e){let{term:t}=e,n=(0,a.useContext)(f),r=(0,a.useContext)(Y),i=(0,a.useContext)(o);t in n||(n[t]=y(t,i));let l=n[t];return l.recognized?(0,s.jsx)(O.Z,{variant:"text",fullWidth:!0,sx:{p:0,justifyContent:"flex-start"},onClick:()=>r({type:"add",state:{type:"term",value:t}}),children:l.term}):(0,s.jsx)(O.Z,{variant:"text",disabled:!0,children:l.term})}function Q(e){let{processed:t,onRemove:n,onUpdate:r}=e,[i,l]=(0,a.useState)(t.term);return(0,s.jsxs)(T.Z,{sx:{m:.5},children:[t.recognized?(0,s.jsx)(E.Z,{color:"success",sx:{fontSize:".8rem",position:"absolute"},"aria-label":"recognized"}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(z.Z,{title:(0,s.jsxs)(v.Z,{direction:"row",children:[(0,s.jsx)(P.Z,{variant:"standard",value:i,onChange:e=>e.target&&"value"in e.target&&l(e.target.value),onKeyUp:e=>"code"in e&&"Enter"===e.code&&r(i)}),i!==t.term?(0,s.jsx)(O.Z,{onClick:()=>{r(i)},children:"Update"}):(0,s.jsx)(s.Fragment,{})]}),action:(0,s.jsx)(I.Z,{onClick:n,children:(0,s.jsx)(F.Z,{})})}),(0,s.jsx)(N.Z,{children:(0,s.jsx)(v.Z,{direction:"row",children:"fixed"===t.type?(0,s.jsx)(X,{processed:t}):(0,s.jsx)(V,{processed:t})})})]})}function V(e){let{processed:t}=e;return(0,s.jsxs)(R.Z,{children:[(0,s.jsxs)(C.Z,{children:["Matches"," ("+t.matches.length+")"]}),t.matches.length?(0,s.jsx)(Z.Z,{sx:{maxHeight:200,overflowY:"auto"},children:(0,s.jsx)(k.Z,{sx:{marginLeft:"12px"},children:t.matches.length>1e4?(0,s.jsx)(b.ZP,{children:"Too many matches."}):[...t.matches.filter(e=>e in t.common_matches).sort(u),...t.matches.filter(e=>!(e in t.common_matches)).sort(u)].map((e,n)=>{let r=t.common_matches[e];return(0,s.jsx)(b.ZP,{sx:{p:0},children:r?(0,s.jsxs)(C.Z,{className:""===r.part?"match-root":"",children:[(0,s.jsx)("span",{className:"term-root",children:r.root}),(0,s.jsx)("span",{children:r.part})]}):(0,s.jsx)(C.Z,{className:"match-uncommon",children:e})},n)})})}):(0,s.jsx)(C.Z,{children:"No matches"})]})}function X(e){let{processed:t}=e;return(0,s.jsx)(R.Z,{elevation:1,children:(0,s.jsx)(J,{term:t.term})})}var ee=n(6500),et=n(5826);function en(e){let{all_terms:t,exists:n,add:r}=e,[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)([]),h=e=>{let t=e?"string"==typeof e?e:"innerText"in e.target?e.target.innerText:i:i;t&&!n(t)&&(r(t),x([]),l(""))},u=e=>{let t=e.target;if(t&&"value"in t){let e=t.value.toLowerCase();c(n(e)),l(e)}};return(0,s.jsx)(ee.Z,{component:"nav",children:(0,s.jsxs)(A.Z,{variant:"dense",disableGutters:!0,children:[(0,s.jsx)(et.Z,{options:d,value:i,onKeyUp:e=>{"code"in e&&"Enter"===e.code?h():t&&x(i.length>2?t.filter(e=>e.startsWith(i)):[])},onChange:u,renderOption:(e,t)=>(0,a.createElement)("li",{...e,key:t,onClick:h},t),renderInput:e=>(0,s.jsx)(P.Z,{...e,variant:"filled",label:"Term to add",value:i,onKeyDown:e=>{"code"in e&&"Enter"===e.code&&h()},onChange:u,error:o}),fullWidth:!0,freeSolo:!0}),(0,s.jsx)(O.Z,{sx:{p:2},variant:"contained",onClick:()=>h(),disabled:o,children:"Add"})]})})}let es=[{key:"terms",label:"Terms"},{key:"termAssociations",label:"Term Associations"},{key:"synsets",label:"Synsets"},{key:"synsetInfo",label:"Synset Info"}];function er(e){let{loading:t}=e,n=(0,a.useContext)(o),r=(0,a.useContext)(m),i=(0,a.useContext)(f),l=(0,a.useContext)(j),c=e=>e in r;return(0,s.jsx)(Z.Z,{children:n.termAssociations&&n.synsetInfo?(0,s.jsxs)(_.Z,{children:[(0,s.jsx)(en,{all_terms:n.terms,exists:c,add:e=>{l({type:"add",term:e})}}),(0,s.jsxs)(Z.Z,{component:"main",children:[(0,s.jsx)(A.Z,{}),Object.keys(r).sort().map(e=>{let t=i[e];return(0,s.jsx)(Q,{processed:t,onRemove:()=>{l({type:"remove",term:e})},onUpdate:t=>{t&&!c(t)&&l({type:"update",term:t,originalTerm:e})}},e)})]})]}):(0,s.jsxs)(v.Z,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,s.jsx)(C.Z,{children:"Loading Resources..."}),(0,s.jsx)(k.Z,{children:es.map(e=>{let{key:r,label:i}=e;return(0,s.jsx)(b.ZP,{children:(0,s.jsxs)(C.Z,{children:[n[r]?(0,s.jsx)(E.Z,{color:"success"}):t[r]?(0,s.jsx)(S.Z,{size:"1.5rem"}):(0,s.jsx)(w.Z,{color:"error",sx:{marginBottom:-.8}}),n[r]||t[r]?"":"Failed to load ",i]})},r)})})]})})}let ei=(0,r.Z)({palette:{mode:"dark"}}),el=(e,t)=>"reset"===t.type?[]:e.length&&e[0].value===t.state.value?[...e]:[t.state,...e];function ea(){let[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!0),[u,m]=(0,a.useReducer)(el,[]);return(0,s.jsx)(a.StrictMode,{children:(0,s.jsxs)(i.Z,{theme:ei,children:[(0,s.jsx)(l.ZP,{}),(0,s.jsx)(c,{loadingTerms:t,loadingTermAssociations:r,loadingSynsets:d,loadingSynsetInfo:h,children:(0,s.jsx)(g,{children:(0,s.jsxs)(Y.Provider,{value:m,children:[(0,s.jsx)(er,{loading:{terms:e,termAssociations:n,synsets:o,synsetInfo:x}}),(0,s.jsx)(G,{state:u,update:m})]})})})]})})}}},function(e){e.O(0,[384,971,938,744],function(){return e(e.s=69)}),_N_E=e.O()}]);