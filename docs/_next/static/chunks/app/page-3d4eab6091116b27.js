(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69:function(e,t,s){Promise.resolve().then(s.bind(s,357))},357:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var n=s(7437),r=s(8595),i=s(3948),o=s(3857),c=s(2265);let a=(0,c.createContext)({});function l(e){let{setLoadingTerms:t,setLoadingSynsets:s,children:r}=e,[i,o]=(0,c.useState)(),[l,d]=(0,c.useState)(),[h,x]=(0,c.useState)(),[m,u]=(0,c.useState)(),[j,f]=(0,c.useState)();return(0,c.useEffect)(()=>{fetch("/dictionary_builder/data/term_associations.json").then(e=>e.json()).then(e=>{let t=Object.keys(e);o(t),d(";;"+t.join(";;")+";;"),x(e)}).finally(()=>t(!1))},[t]),(0,c.useEffect)(()=>{fetch("/dictionary_builder/data/synsets.json").then(e=>e.json()).then(e=>{u(Object.keys(e)),f(e)}).finally(()=>s(!1))},[s]),(0,n.jsx)(a.Provider,{value:{terms:i,collapsedTerms:l,termAssociations:h,synsets:m,synsetInfo:j},children:r})}var d=s(9245),h=s(2498),x=s(3226),m=s(5266),u=s(356),j=s(6882),f=s(56),g=s(9050),Z=s(8123),y=s(502);let p=["'","'d","'in","'s","ac","age","ant","ary","at","cracy","cy","cycle","d","dom","e","ed","er","es","esque","est","ette","ey","ful","hood","ic","ie","ies","ify","in","ing","ion","ish","ive","ize","let","lets","lette","like","-like","ling","lings","log","ly","ley","ment","nce","ness","or","ous","ousness","ously","r","s","ship","st","th","ties","ty","ur","ward","wise","y","ys","z"],v=/\*/g,k=/^;|;$/g;function z(e,t){return e.length-t.length}var S=s(5133),_=s(6114),E=s(2653),b=s(8469),w=s(9872),C=s(4262);function A(e){let{term:t,onRemove:s,onUpdate:r}=e,[i,o]=(0,c.useState)(t.term);return(0,n.jsxs)(S.Z,{sx:{m:.5},children:[t.recognized?(0,n.jsx)(Z.Z,{color:"success",sx:{fontSize:".8rem",position:"absolute"},"aria-label":"recognized"}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(_.Z,{title:(0,n.jsxs)(h.Z,{direction:"row",children:[(0,n.jsx)(f.Z,{variant:"standard",value:i,onChange:e=>e.target&&"value"in e.target&&o(e.target.value),onKeyUp:e=>"code"in e&&"Enter"===e.code&&r(i)}),i!==t.term?(0,n.jsx)(g.Z,{onClick:()=>{r(i)},children:"Update"}):(0,n.jsx)(n.Fragment,{})]}),action:(0,n.jsx)(E.Z,{onClick:s,children:(0,n.jsx)(C.Z,{})})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(h.Z,{direction:"row",children:"fixed"===t.type?(0,n.jsx)(O,{term:t}):(0,n.jsx)(N,{term:t})})})]})}function N(e){let{term:t}=e;return(0,n.jsxs)(w.Z,{children:[(0,n.jsxs)(x.Z,{children:["Matches"," ("+t.matches.length+")"]}),t.matches.length?(0,n.jsx)(d.Z,{sx:{maxHeight:200,overflowY:"auto"},children:(0,n.jsx)(m.Z,{sx:{marginLeft:"12px"},children:[...t.matches.filter(e=>e in t.common_matches).sort(z),...t.matches.filter(e=>!(e in t.common_matches)).sort(z)].map((e,s)=>{let r=t.common_matches[e];return(0,n.jsx)(u.ZP,{sx:{p:0},children:r?(0,n.jsxs)(x.Z,{className:""===r.part?"match-root":"",children:[(0,n.jsx)("span",{className:"term-root",children:r.root}),(0,n.jsx)("span",{children:r.part})]}):(0,n.jsx)(x.Z,{className:"match-uncommon",children:e})},s)})})}):(0,n.jsx)(x.Z,{children:"No matches"})]})}function O(e){let{term:t}=e;return(0,n.jsx)(w.Z,{elevation:1,children:(0,n.jsxs)(x.Z,{children:["Recognized:",(0,n.jsx)("span",{children:" "+t.recognized})]})})}function T(e){let{loading:t}=e,s=(0,c.useContext)(a),r=e=>{let t=v.test(e)?";"+e.replace(v,"[^;]*")+";":e;if(t===e)return{type:"fixed",term:e,categories:{},recognized:s.termAssociations&&e in s.termAssociations,synsets:[],synset:""};{let n={type:"fuzzy",term:e,categories:{},recognized:!1,regex:RegExp(t,"g"),matches:[],common_matches:{}};if(s.collapsedTerms)for(let e;e=n.regex.exec(s.collapsedTerms);)n.matches.push(e[0].replace(k,""));return n.matches.length&&(n.recognized=!0,n.common_matches=function(e){let t={},s="";if(e.forEach(e=>{(!s||e.length<s.length)&&(s=e)}),s){let n=RegExp(s+"*");e.forEach(e=>{if(e===s)t[e]={root:s,part:""};else{let r=e.replace(n,"");-1!==p.indexOf(r)&&(t[e]={root:s,part:e.replace(s,"")})}})}return t}(n.matches)),n}},[i,o]=(0,c.useState)(""),[l,z]=(0,c.useState)([]),[S,_]=(0,c.useReducer)((e,t)=>{let s=[...e];return"remove"===t.key?s.splice(t.index,1):s["update"===t.key?t.index:e.length]=r(t.value),s},[]),E=()=>{i&&-1===l.indexOf(i)&&(z([...l,i]),_({key:"add",value:i}),o(""))};return(0,n.jsx)(d.Z,{children:s.termAssociations&&s.synsetInfo?(0,n.jsx)(d.Z,{sx:{margin:"auto",maxWidth:1e3},children:(0,n.jsxs)(h.Z,{sx:{margin:1},children:[(0,n.jsxs)(h.Z,{direction:"row",children:[(0,n.jsx)(f.Z,{value:i,onKeyDown:e=>{"code"in e&&"Enter"===e.code&&E()},onChange:e=>{let t=e.target;t&&"value"in t&&o(t.value)},variant:"outlined",label:"Term to add",helperText:(0,n.jsxs)(x.Z,{variant:"caption",children:["Enter a fixed or glob term (e.g., ",(0,n.jsx)("code",{children:"frog"})," or ",(0,n.jsx)("code",{children:"frog*"}),")."]}),fullWidth:!0}),(0,n.jsx)(g.Z,{onClick:E,children:"Add"})]}),S.map((e,t)=>(0,n.jsx)(A,{term:e,onRemove:()=>{let e=[...l];e.splice(t,1),z([...e]),_({key:"remove",index:t})},onUpdate:e=>{if(e&&-1===l.indexOf(e)){let s=[...l];s[t]=e,z(s),_({key:"update",index:t,value:e})}}},t))]})}):(0,n.jsxs)(h.Z,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,n.jsx)(x.Z,{children:"Loading Resources..."}),(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(u.ZP,{children:(0,n.jsxs)(x.Z,{children:[s.termAssociations?(0,n.jsx)(Z.Z,{color:"success"}):t.terms?(0,n.jsx)(j.Z,{size:"1.5rem"}):(0,n.jsx)(y.Z,{color:"error",sx:{marginBottom:-.8}}),s.termAssociations||t.terms?"":"Failed to load ","Term Associations"]})}),(0,n.jsxs)(u.ZP,{children:[s.synsetInfo?(0,n.jsx)(Z.Z,{color:"success"}):t.synsets?(0,n.jsx)(j.Z,{size:"1.5rem"}):(0,n.jsx)(y.Z,{color:"error",sx:{marginBottom:-.8}}),s.synsetInfo||t.synsets?"":"Failed to load ","Synset Info"]})]})]})})}let P=(0,r.Z)({palette:{mode:"dark"}});function R(){let[e,t]=(0,c.useState)(!0),[s,r]=(0,c.useState)(!0);return(0,n.jsx)(c.StrictMode,{children:(0,n.jsxs)(i.Z,{theme:P,children:[(0,n.jsx)(o.ZP,{}),(0,n.jsx)(l,{setLoadingTerms:t,setLoadingSynsets:r,children:(0,n.jsx)(T,{loading:{terms:e,synsets:s}})})]})})}}},function(e){e.O(0,[670,971,938,744],function(){return e(e.s=69)}),_N_E=e.O()}]);