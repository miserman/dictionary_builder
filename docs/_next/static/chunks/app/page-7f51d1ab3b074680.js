(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69:function(e,t,n){Promise.resolve().then(n.bind(n,2464))},2464:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ep}});var s=n(7437),r=n(8595),i=n(3948),l=n(3857),a=n(2265);let o=(0,a.createContext)({});function c(e){let{loadingTerms:t,loadingTermAssociations:n,loadingSynsets:r,loadingSynsetInfo:i,children:l}=e,[c,d]=(0,a.useState)(),[x,h]=(0,a.useState)(),[u,m]=(0,a.useState)(),[j,p]=(0,a.useState)(),[f,g]=(0,a.useState)();return(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/terms.txt").then(e=>e.text()).then(e=>{let t=e.split("\n");d(t),h(";;"+t.join(";;")+";;")}).finally(()=>t(!1))},[t]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/term_associations.json").then(e=>e.json()).then(e=>{m(e)}).finally(()=>n(!1))},[n]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synsets.txt").then(e=>e.text()).then(e=>{p(e.split("\n"))}).finally(()=>r(!1))},[r]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synset_info.json").then(e=>e.json()).then(e=>{g(e)}).finally(()=>i(!1))},[i]),(0,s.jsx)(o.Provider,{value:{terms:c,collapsedTerms:x,termAssociations:u,synsets:j,synsetInfo:f},children:l})}let d={"'":0,"'d":0,"'in":0,"'s":0,ac:0,age:0,ant:0,ary:0,at:0,cracy:0,cy:0,cycle:0,d:0,dom:0,e:0,ed:0,er:0,es:0,esque:0,est:0,ette:0,ey:0,ful:0,hood:0,ic:0,ie:0,ies:0,ify:0,in:0,ing:0,ion:0,ish:0,ive:0,ize:0,let:0,lets:0,lette:0,like:0,"-like":0,ling:0,lings:0,log:0,ly:0,ley:0,ment:0,nce:0,ness:0,or:0,ous:0,ousness:0,ously:0,r:0,s:0,ship:0,st:0,th:0,ties:0,ty:0,ur:0,ward:0,wise:0,y:0,ys:0,z:0},x=/\*/g,h=/^;|;$/g;function u(e,t){return t?(100-e/t*100).toFixed(2):"0"}let m=(0,a.createContext)({}),j=(0,a.createContext)(e=>{}),p=(0,a.createContext)({}),f=(e,t)=>{let{terms:n,termAssociations:s,synsetInfo:r}=t,i={type:"fixed",term:e,categories:{},recognized:!1,index:n?n.indexOf(e):-1,similar:[],synsets:[]};if(s&&r&&n&&-1!==i.index){i.recognized=!0;let e=s[i.index];e[0]&&(Array.isArray(e[0]),e[0]),i.similar=e[0]?(Array.isArray(e[0])?e[0]:[e[0]]).map(e=>n[e-1]):[],i.synsets=e[1]?(Array.isArray(e[1])?e[1]:[e[1]]).map(e=>r[e-1]):[]}return i},g=(e,t)=>{let n=x.test(e)?";"+e.replace(x,"[^;]*")+";":e;if(n===e)return f(e,t);{let s={type:"fuzzy",term:e,categories:{},recognized:!1,regex:RegExp(n,"g"),matches:[],common_matches:{}};if(t.collapsedTerms)for(let e;e=s.regex.exec(t.collapsedTerms);)s.matches.push(e[0].replace(h,""));return s.matches.length&&(s.recognized=!0,s.common_matches=function(e){let t={},n="";if(e.forEach(e=>{(!n||e.length<n.length)&&(n=e)}),n){let s=RegExp(n+"*");e.forEach(e=>{e===n?t[e]={root:n,part:""}:e.replace(s,"") in d&&(t[e]={root:n,part:e.replace(n,"")})})}return t}(s.matches)),s}};function y(e){let{children:t}=e,n=(0,a.useContext)(o),r=(0,a.useMemo)(()=>({}),[]),[i,l]=(0,a.useReducer)(function(e,t){let s={...e};return"remove"===t.type?delete s[t.term]:("update"===t.type&&delete s[t.originalTerm],t.term in r||(r[t.term]=g(t.term,n)),s[t.term]={categories:t.categories||{},sense:t.sense||""}),s},{});return(0,s.jsx)(m.Provider,{value:i,children:(0,s.jsx)(j.Provider,{value:l,children:(0,s.jsx)(p.Provider,{value:r,children:t})})})}var Z=n(8469),v=n(8956),C=n(9050),b=n(4111),k=n(5133),S=n(6114),w=n(2653),P=n(3457),A=n(3226),E=n(879),_=n(9245),T=n(5795),z=n(3701),F=n(6988),I=n(4147),O=n(666),N=n(9279),R=n(2554),M=n(5210),q=n(8276),D=n(5266),K=n(356),U=n(8123),W=n(4262),Y=n(7827);function H(e){let{info:t}=e,n=(0,a.useContext)(et);return(0,s.jsx)(M.Z,{underline:"none",sx:{p:0,justifyContent:"flex-start",cursor:"pointer",display:"block"},onClick:()=>n({type:"add",state:{type:"synset",value:t.key,info:t}}),children:t.key})}let B=/^\d+-\w$/;function L(e){let{name:t,info:n,ids:r,allInfo:i}=e,l=n[t];return(0,s.jsxs)(_.Z,{sx:{m:1},children:[(0,s.jsx)(A.Z,{variant:"h5",children:t}),(0,s.jsx)(A.Z,{children:"members"===t?Array.isArray(l)?l.map(e=>(0,s.jsx)(V,{term:e},e)):(0,s.jsx)(V,{term:l},l):Array.isArray(l)?l.map(B.test(l[0])?e=>(0,s.jsx)(H,{info:i[r.indexOf(e)]},e):e=>(0,s.jsx)(Y.Z,{label:e})):B.test(l)?(0,s.jsx)(H,{info:i[r.indexOf(l)]}):l})]},t)}let X={key:0,index:0,ili:0,definition:0};function $(e){let{info:t}=e,{synsets:n,synsetInfo:r}=(0,a.useContext)(o);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Z,{variant:"h6",children:t.definition}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Sense Key: ",(0,s.jsx)("span",{className:"number",children:t.key})]}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Open English WordNet ID: ",(0,s.jsx)("span",{className:"number",children:n&&n[t.index-1]})]}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Interlingual ID: ",(0,s.jsx)("span",{className:"number",children:t.ili})]}),(0,s.jsx)(P.Z,{direction:"row",sx:{mt:2},children:n&&r?Object.keys(t).filter(e=>!(e in X)).map(e=>(0,s.jsx)(L,{name:e,info:t,ids:n,allInfo:r},e)):(0,s.jsx)(s.Fragment,{})})]})}function G(e){let{processed:t,onRemove:n,onUpdate:r}=e,[i,l]=(0,a.useState)(t.term);return(0,s.jsxs)(k.Z,{sx:{m:.5},children:[t.recognized?(0,s.jsx)(U.Z,{color:"success",sx:{fontSize:".8rem",position:"absolute"},"aria-label":"recognized"}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(S.Z,{title:(0,s.jsxs)(P.Z,{direction:"row",children:[(0,s.jsx)(E.Z,{variant:"standard",value:i,onChange:e=>e.target&&"value"in e.target&&l(e.target.value),onKeyUp:e=>"code"in e&&"Enter"===e.code&&r(i)}),i!==t.term?(0,s.jsx)(C.Z,{onClick:()=>{r(i)},children:"Update"}):(0,s.jsx)(s.Fragment,{})]}),action:(0,s.jsx)(w.Z,{onClick:n,children:(0,s.jsx)(W.Z,{})})}),(0,s.jsx)(Z.Z,{children:"fixed"===t.type?(0,s.jsx)(Q,{processed:t}):(0,s.jsx)(J,{processed:t})})]})}function J(e){let{processed:t}=e,n=(0,a.useContext)(p),r=(0,a.useContext)(o),[i,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(5),x=t.matches.length,h=[];if(x)for(let e=i*c,n=e+c;e<n;e++)h.push(t.matches[e]);return(0,s.jsx)(_.Z,{sx:{width:"100%"},children:x?(0,s.jsxs)(T.Z,{sx:{width:"100%"},children:[(0,s.jsxs)(z.Z,{size:"small",sx:{width:"100%","& .MuiTableCell-root:first-of-type":{pl:0},"& .MuiTableCell-root:last-of-type":{pr:0}},children:[(0,s.jsx)(F.Z,{children:(0,s.jsxs)(I.Z,{children:[(0,s.jsx)(O.Z,{component:"th",width:"999",children:"Match"}),(0,s.jsx)(O.Z,{component:"th",align:"right",children:"Suffix"}),(0,s.jsx)(O.Z,{component:"th",align:"right",children:"Frequency"}),(0,s.jsx)(O.Z,{component:"th",align:"right",children:"Similar"}),(0,s.jsx)(O.Z,{component:"th",align:"right",children:"Senses"})]})}),(0,s.jsx)(N.Z,{children:h.map((e,i)=>{e in n||(n[e]=g(e,r));let l=n[e],a=t.common_matches[e];return(0,s.jsxs)(I.Z,{sx:{height:33},hover:!0,children:[(0,s.jsx)(O.Z,{children:(0,s.jsx)(V,{term:e})}),(0,s.jsx)(O.Z,{align:"right",children:a?a.part:""}),(0,s.jsx)(O.Z,{align:"right",children:u(l.index,r.terms&&r.terms.length)}),(0,s.jsx)(O.Z,{align:"right",children:l.similar.length}),(0,s.jsx)(O.Z,{align:"right",children:l.synsets.length})]},e+i)})})]}),(0,s.jsx)(R.Z,{component:"div",rowsPerPageOptions:[5,10,20,50,100,1e3],count:x,rowsPerPage:c,page:i,onPageChange:(e,t)=>{l(t)},onRowsPerPageChange:e=>{d(parseInt(e.target.value)),l(0)}})]}):(0,s.jsx)(A.Z,{children:"No matches"})})}function Q(e){let{processed:t}=e;return(0,s.jsx)(ee,{term:t.term})}function V(e){let{term:t}=e,n=(0,a.useContext)(et);return(0,s.jsx)(M.Z,{underline:"none",sx:{p:0,justifyContent:"flex-start",cursor:"pointer",display:"block"},onClick:()=>n({type:"add",state:{type:"term",value:t}}),children:t})}function ee(e){let{term:t,maxHeight:n}=e,r=(0,a.useContext)(p),i=(0,a.useContext)(o);t in r||(r[t]=g(t,i));let l=r[t];return(0,s.jsxs)(P.Z,{direction:"row",spacing:4,children:[(0,s.jsxs)(P.Z,{children:[(0,s.jsx)(q.Z,{title:"100 - index / n terms * 100; terms are losely sorted by frequency and space coverage",children:(0,s.jsx)(A.Z,{children:"Relative Frequency"})}),(0,s.jsx)(_.Z,{sx:{p:1},children:(0,s.jsx)("span",{className:"number",children:u(l.index,i.terms&&i.terms.length)})})]}),l.similar.length?(0,s.jsxs)(P.Z,{children:[(0,s.jsx)(A.Z,{children:"Similar Terms"}),(0,s.jsx)(_.Z,{sx:{p:1,maxHeight:n||"20vh",overflowY:"auto",overflowX:"hidden"},children:(0,s.jsx)(D.Z,{sx:{p:0},children:l.similar.map(e=>(0,s.jsx)(K.ZP,{sx:{p:0},children:(0,s.jsx)(V,{term:e})},e))})})]}):(0,s.jsx)(s.Fragment,{}),l.synsets.length?(0,s.jsxs)(P.Z,{children:[(0,s.jsx)(A.Z,{children:"Senses"}),(0,s.jsx)(_.Z,{sx:{p:1,maxHeight:n||"20vh",overflowY:"auto",overflowX:"hidden"},children:(0,s.jsx)(D.Z,{sx:{p:0},children:l.synsets.map(e=>(0,s.jsx)(K.ZP,{sx:{p:0},children:(0,s.jsx)(H,{info:e})},e.key))})})]}):(0,s.jsx)(s.Fragment,{})]})}let et=(0,a.createContext)(e=>{});function en(e){let{term:t}=e,n=(0,a.useContext)(o),r=(0,a.useContext)(m),i=(0,a.useContext)(j),l=(0,a.useContext)(p);t in l||(l[t]=g(t,n));let c=l[t];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{sx:{overflowY:"auto"},children:(0,s.jsx)(ee,{term:t,maxHeight:"31vh"})}),(0,s.jsx)(v.Z,{sx:{justifyContent:"flex-end",mt:"auto"},children:(0,s.jsx)(C.Z,{onClick:()=>{i({type:c.term in r?"remove":"add",term:c.term})},children:c.term in r?"Remove":"Add"})})]})}function es(e){let{info:t}=e;return(0,s.jsx)(Z.Z,{sx:{overflowY:"auto",mb:"auto"},children:(0,s.jsx)($,{info:t})})}function er(e){let{state:t,update:n}=e,[r,i]=(0,a.useState)([0,t.length]);if(!t.length)return;let l=r[0];t.length!=r[1]&&i([0,t.length]);let o=t[l],c=()=>{i([0,0]),n({type:"reset"})};return(0,s.jsx)(b.ZP,{open:""!==o.value,onClose:c,variant:"permanent",hideBackdrop:!0,anchor:"bottom",sx:{"& .MuiPaper-root":{height:"51vh",display:"flex",flexDirection:"column",justifyContent:"space-between"}},children:(0,s.jsxs)(k.Z,{children:[(0,s.jsx)(S.Z,{action:(0,s.jsx)(w.Z,{"aria-label":"Close",onClick:c,children:(0,s.jsx)(W.Z,{})}),title:(0,s.jsxs)(P.Z,{direction:"row",children:[(0,s.jsx)(C.Z,{onClick:()=>i([l<t.length?l+1:t.length-1,t.length]),disabled:l>=t.length-1,sx:{opacity:.7},children:t.length>l+1?t[l+1].value:""}),(0,s.jsx)(A.Z,{variant:"h4",children:o.value}),(0,s.jsx)(C.Z,{onClick:()=>i([l>0?l-1:0,t.length]),disabled:l<1,sx:{opacity:.7},children:l>0?t[l-1].value:""})]})}),"term"===o.type?(0,s.jsx)(en,{term:o.value}):(0,s.jsx)(es,{info:o.info})]})})}var ei=n(6882),el=n(8938),ea=n(4989),eo=n(502),ec=n(6500),ed=n(8440);function ex(e){let{all_terms:t,exists:n,add:r}=e,[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)([]),h=e=>{let t=e?"string"==typeof e?e:"innerText"in e.target?e.target.innerText:i:i;t&&!n(t)&&(r(t),x([]),l(""))},u=e=>{let t=e.target;if(t&&"value"in t){let e=t.value.toLowerCase();c(n(e)),l(e)}};return(0,s.jsx)(ec.Z,{component:"nav",children:(0,s.jsxs)(ea.Z,{variant:"dense",disableGutters:!0,children:[(0,s.jsx)(ed.Z,{options:d,value:i,onKeyUp:e=>{"code"in e&&"Enter"===e.code?h():t&&x(i.length>2?t.filter(e=>e.startsWith(i)):[])},onChange:u,renderOption:(e,t)=>(0,a.createElement)("li",{...e,key:t,onClick:h},t),renderInput:e=>(0,s.jsx)(E.Z,{...e,variant:"filled",label:"Term to add",value:i,onKeyDown:e=>{"code"in e&&"Enter"===e.code&&h()},onChange:u,error:o}),fullWidth:!0,freeSolo:!0}),(0,s.jsx)(C.Z,{sx:{p:2},variant:"contained",onClick:()=>h(),disabled:o,children:"Add"})]})})}let eh=[{key:"terms",label:"Terms"},{key:"termAssociations",label:"Term Associations"},{key:"synsets",label:"Synsets"},{key:"synsetInfo",label:"Synset Info"}];function eu(e){let{loading:t,drawerOpen:n}=e,r=(0,a.useContext)(o),i=(0,a.useContext)(m),l=(0,a.useContext)(p),c=(0,a.useContext)(j),d=e=>e in i;return(0,s.jsx)(_.Z,{children:r.termAssociations&&r.synsetInfo?(0,s.jsxs)(el.Z,{children:[(0,s.jsx)(ex,{all_terms:r.terms,exists:d,add:e=>{c({type:"add",term:e})}}),(0,s.jsxs)(_.Z,{component:"main",sx:{mb:n?"52vh":0},children:[(0,s.jsx)(ea.Z,{}),Object.keys(i).sort().map(e=>(0,s.jsx)(G,{processed:l[e],onRemove:()=>{c({type:"remove",term:e})},onUpdate:t=>{t&&!d(t)&&c({type:"update",term:t,originalTerm:e})}},e))]})]}):(0,s.jsxs)(P.Z,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,s.jsx)(A.Z,{children:"Loading Resources..."}),(0,s.jsx)(D.Z,{children:eh.map(e=>{let{key:n,label:i}=e;return(0,s.jsx)(K.ZP,{children:(0,s.jsxs)(A.Z,{children:[r[n]?(0,s.jsx)(U.Z,{color:"success"}):t[n]?(0,s.jsx)(ei.Z,{size:"1.5rem"}):(0,s.jsx)(eo.Z,{color:"error",sx:{marginBottom:-.8}}),r[n]||t[n]?"":"Failed to load ",i]})},n)})})]})})}let em=(0,r.Z)({palette:{mode:"dark"}}),ej=(e,t)=>"reset"===t.type?[]:e.length&&e[0].value===t.state.value?[...e]:[t.state,...e];function ep(){let[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!0),[u,m]=(0,a.useReducer)(ej,[]);return(0,s.jsx)(a.StrictMode,{children:(0,s.jsxs)(i.Z,{theme:em,children:[(0,s.jsx)(l.ZP,{}),(0,s.jsx)(c,{loadingTerms:t,loadingTermAssociations:r,loadingSynsets:d,loadingSynsetInfo:h,children:(0,s.jsx)(y,{children:(0,s.jsxs)(et.Provider,{value:m,children:[(0,s.jsx)(eu,{loading:{terms:e,termAssociations:n,synsets:o,synsetInfo:x},drawerOpen:!!u.length}),(0,s.jsx)(er,{state:u,update:m})]})})})]})})}}},function(e){e.O(0,[146,971,938,744],function(){return e(e.s=69)}),_N_E=e.O()}]);