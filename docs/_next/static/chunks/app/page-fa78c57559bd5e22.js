(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69:function(e,t,n){Promise.resolve().then(n.bind(n,9488))},9488:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eZ}});var s=n(7437),r=n(8595),i=n(3948),l=n(3857),a=n(2265);let o=(0,a.createContext)({});function c(e){let{loadingTerms:t,loadingTermAssociations:n,loadingSynsets:r,loadingSynsetInfo:i,children:l}=e,[c,d]=(0,a.useState)(),[x,h]=(0,a.useState)(),[u,m]=(0,a.useState)(),[j,p]=(0,a.useState)(),[f,g]=(0,a.useState)(),[y,Z]=(0,a.useState)();return(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/terms.txt").then(e=>e.text()).then(e=>{let t=Object.freeze(e.split("\n"));d(t);let n={};t.forEach((e,t)=>n[e]=t),h(Object.freeze(n)),m(";;"+t.join(";;")+";;")}).finally(()=>t(!1))},[t]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/term_associations.json").then(e=>e.json()).then(e=>{p(e)}).finally(()=>n(!1))},[n]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synsets.txt").then(e=>e.text()).then(e=>{g(Object.freeze(e.split("\n")))}).finally(()=>r(!1))},[r]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synset_info.json").then(e=>e.json()).then(e=>{Z(e)}).finally(()=>i(!1))},[i]),(0,s.jsx)(o.Provider,{value:{terms:c,termLookup:x,collapsedTerms:u,termAssociations:j,synsets:f,synsetInfo:y},children:l})}let d=/\*/g,x=/^;|;$/g;function h(e,t){return e.length-t.length}function u(e,t){return t&&-1!==e?((1-e/t)*100).toFixed(2):"0"}let m=(0,a.createContext)({}),j=(0,a.createContext)(e=>{}),p=(0,a.createContext)({}),f=/[aeiouy]$/,g=(e,t)=>{let n=new Set,s=RegExp(";(?:anti|de|dis|central|en|ex|faux|hyper|il|ill|in|intra|inter|ir|meso|mal|mid|middle|mis|miss|non|over|pan|post|pre|pro|re|retro|sudo|sub|super|un|uber|under|ultra|trans)?-?(?:"+e+"|"+e.replace(f,"[aeiouy]")+"|"+e+e.substring(e.length-1)+")-?(?:'|ac|age|al|alize|ant|ary|at|ate|ation|cracy|cy|cycle|d|dom|ed|er|es|esque|est|ette|ey|ful|hood|ial|ic|ie|ies|ify|in|ing|ion|ionate|isation|ish|ise|ism|ist|ive|ize|ization|let|lets|lette|like|ling|lings|log|ly|ley|ment|nce|ness|or|ous|r|s|ship|st|th|ties|ty|ur|ward|wise|y|z)?(?:'|ate|ation|d|ed|er|es|in|ing|ion|ise|isation|ish|ize|ization|ly|ness|ous|s|y|z)?\\;","g"),r=RegExp("^;"+e+"?[aeiou]?;$");for(let e;e=s.exec(t);)r.test(e[0])||n.add(e[0].replace(x,""));return Array.from(n)},y=(e,t)=>{let{terms:n,termLookup:s,collapsedTerms:r,termAssociations:i,synsetInfo:l}=t,a={type:"fixed",term:e,categories:{},recognized:!1,index:n&&s&&s[e]||-1,forms:[],similar:[],synsets:[]};if(r&&(a.forms=g(e,r)),a.forms.sort(h),i&&l&&n&&-1!==a.index){a.recognized=!0;let e=i[a.index];a.similar=e[0]?(Array.isArray(e[0])?e[0]:[e[0]]).map(e=>n[e-1]):[],a.synsets=e[1]?(Array.isArray(e[1])?e[1]:[e[1]]).map(e=>l[e-1]):[]}return a},Z=(e,t)=>{let n=d.test(e)?";"+e.replace(d,"[^;]*")+";":e;if(n===e)return y(e,t);{let s={type:"fuzzy",term:e,categories:{},recognized:!1,regex:RegExp(n,"g"),matches:[],common_matches:[]};if(t.collapsedTerms)for(let e;e=s.regex.exec(t.collapsedTerms);)s.matches.push(e[0].replace(x,""));if(s.matches.length){s.recognized=!0;let e="";s.matches.forEach(t=>{(!e||t.length<e.length)&&(e=t)}),s.common_matches=g(e,";;"+s.matches.join(";;")+";;")}return s}};function v(e){let{children:t}=e,n=(0,a.useContext)(o),r=(0,a.useMemo)(()=>({}),[]),[i,l]=(0,a.useReducer)(function(e,t){let s={...e};return"remove"===t.type?delete s[t.term]:("update"===t.type&&delete s[t.originalTerm],t.term in r||(r[t.term]=Z(t.term,n)),s[t.term]={categories:t.categories||{},sense:t.sense||""}),s},{});return(0,s.jsx)(m.Provider,{value:i,children:(0,s.jsx)(j.Provider,{value:l,children:(0,s.jsx)(p.Provider,{value:r,children:t})})})}var C=n(8469),b=n(8956),k=n(9050),S=n(4111),w=n(5133),z=n(6114),P=n(2653),E=n(3457),A=n(3226),T=n(879),_=n(9245),F=n(5795),O=n(3701),I=n(6988),M=n(4147),R=n(666),N=n(9279),q=n(2554),D=n(5210),K=n(8276),U=n(5266),W=n(356),$=n(8123),L=n(4262),Y=n(7827);function B(e){let{info:t}=e,n=(0,a.useContext)(ei);return(0,s.jsx)(D.Z,{underline:"none",sx:{p:0,justifyContent:"flex-start",cursor:"pointer",display:"block"},onClick:()=>n({type:"add",state:{type:"synset",value:t.key,info:t}}),children:t.key})}let H=/^\d+-\w$/,G=/-/g;function X(e,t){return e=e.toLowerCase(),!t||e in t||(e=e.replace("'",""))in t||(e=e.replace(G," ")),e}function J(e){let{name:t,info:n,ids:r,allInfo:i}=e,l=n[t],{termLookup:c}=(0,a.useContext)(o);return(0,s.jsxs)(_.Z,{sx:{m:1},children:[(0,s.jsx)(A.Z,{variant:"h5",children:t}),(0,s.jsx)(A.Z,{children:"members"===t?Array.isArray(l)?l.map(e=>(0,s.jsx)(es,{term:X(e,c)},e)):(0,s.jsx)(es,{term:X(l,c)},l):Array.isArray(l)?l.map(H.test(l[0])?e=>(0,s.jsx)(B,{info:i[r.indexOf(e)]},e):e=>(0,s.jsx)(Y.Z,{label:e})):H.test(l)?(0,s.jsx)(B,{info:i[r.indexOf(l)]}):l})]},t)}let Q={key:0,index:0,ili:0,definition:0};function V(e){let{info:t}=e,{synsets:n,synsetInfo:r}=(0,a.useContext)(o);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Z,{variant:"h6",children:t.definition}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Sense Key: ",(0,s.jsx)("span",{className:"number",children:t.key})]}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Open English WordNet ID: ",(0,s.jsx)("span",{className:"number",children:n&&n[t.index-1]})]}),(0,s.jsxs)(A.Z,{component:"p",variant:"caption",sx:{ml:1},children:["Interlingual ID: ",(0,s.jsx)("span",{className:"number",children:t.ili})]}),(0,s.jsx)(E.Z,{direction:"row",sx:{mt:2},children:n&&r?Object.keys(t).filter(e=>!(e in Q)).map(e=>(0,s.jsx)(J,{name:e,info:t,ids:n,allInfo:r},e)):(0,s.jsx)(s.Fragment,{})})]})}function ee(e){let{processed:t,onRemove:n,onUpdate:r}=e,[i,l]=(0,a.useState)(t.term);return(0,s.jsxs)(w.Z,{sx:{m:.5},children:[t.recognized?(0,s.jsx)($.Z,{color:"success",sx:{fontSize:".8rem",position:"absolute"},"aria-label":"recognized"}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(z.Z,{title:(0,s.jsxs)(E.Z,{direction:"row",children:[(0,s.jsx)(T.Z,{variant:"standard",value:i,onChange:e=>e.target&&"value"in e.target&&l(e.target.value),onKeyUp:e=>"code"in e&&"Enter"===e.code&&r(i)}),i!==t.term?(0,s.jsx)(k.Z,{onClick:()=>{r(i)},children:"Update"}):(0,s.jsx)(s.Fragment,{})]}),action:(0,s.jsx)(P.Z,{onClick:n,children:(0,s.jsx)(L.Z,{})})}),(0,s.jsx)(C.Z,{children:"fixed"===t.type?(0,s.jsx)(en,{processed:t}):(0,s.jsx)(et,{processed:t})})]})}function et(e){let{processed:t}=e,n=(0,a.useContext)(p),r=(0,a.useContext)(o),[i,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(5),x=t.matches.length,h=[];if(x)for(let e=i*c,n=e+c;e<n;e++)h.push(t.matches[e]);return(0,s.jsx)(_.Z,{sx:{width:"100%"},children:x?(0,s.jsxs)(F.Z,{sx:{width:"100%"},children:[(0,s.jsxs)(O.Z,{size:"small",sx:{width:"100%","& .MuiTableCell-root:first-of-type":{pl:0},"& .MuiTableCell-root:last-of-type":{pr:0}},children:[(0,s.jsx)(I.Z,{children:(0,s.jsxs)(M.Z,{children:[(0,s.jsx)(R.Z,{component:"th",width:"999",children:"Match"}),(0,s.jsx)(R.Z,{component:"th",align:"right",children:"Frequency"}),(0,s.jsx)(R.Z,{component:"th",align:"right",children:"Similar"}),(0,s.jsx)(R.Z,{component:"th",align:"right",children:"Senses"})]})}),(0,s.jsx)(N.Z,{children:h.map((e,t)=>{e in n||(n[e]=Z(e,r));let i=n[e];return(0,s.jsxs)(M.Z,{sx:{height:33},hover:!0,children:[(0,s.jsx)(R.Z,{children:(0,s.jsx)(es,{term:e})}),(0,s.jsx)(R.Z,{align:"right",children:u(i.index,r.terms&&r.terms.length)}),(0,s.jsx)(R.Z,{align:"right",children:i.similar.length}),(0,s.jsx)(R.Z,{align:"right",children:i.synsets.length})]},e+t)})})]}),(0,s.jsx)(q.Z,{component:"div",rowsPerPageOptions:[5,10,20,50,100,1e3],count:x,rowsPerPage:c,page:i,onPageChange:(e,t)=>{l(t)},onRowsPerPageChange:e=>{d(parseInt(e.target.value)),l(0)}})]}):(0,s.jsx)(A.Z,{children:"No matches"})})}function en(e){let{processed:t}=e;return(0,s.jsx)(er,{term:t.term})}function es(e){let{term:t}=e,n=(0,a.useContext)(ei);return(0,s.jsx)(D.Z,{underline:"none",sx:{p:0,justifyContent:"flex-start",cursor:"pointer",display:"block"},onClick:()=>n({type:"add",state:{type:"term",value:t}}),children:t})}function er(e){let{term:t,maxHeight:n}=e,r={p:1,maxHeight:n||"20vh",overflowY:"auto",overflowX:"hidden"},i=(0,a.useContext)(p),l=(0,a.useContext)(o);t in i||(i[t]=Z(t,l));let c=i[t];return(0,s.jsxs)(E.Z,{direction:"row",spacing:4,children:[(0,s.jsxs)(E.Z,{children:[(0,s.jsx)(K.Z,{title:"100 - index / n terms * 100; terms are losely sorted by frequency and space coverage",children:(0,s.jsx)(A.Z,{children:"Relative Frequency"})}),(0,s.jsx)(_.Z,{sx:{p:1},children:(0,s.jsx)("span",{className:"number",children:u(c.index,l.terms&&l.terms.length)})})]}),c.forms.length?(0,s.jsxs)(E.Z,{children:[(0,s.jsx)(A.Z,{children:"Expanded Forms"}),(0,s.jsx)(_.Z,{sx:r,children:(0,s.jsx)(U.Z,{sx:{p:0},children:c.forms.map(e=>(0,s.jsx)(W.ZP,{sx:{p:0},children:(0,s.jsx)(es,{term:e})},e))})})]}):(0,s.jsx)(s.Fragment,{}),c.similar.length?(0,s.jsxs)(E.Z,{children:[(0,s.jsx)(A.Z,{children:"Similar Terms"}),(0,s.jsx)(_.Z,{sx:r,children:(0,s.jsx)(U.Z,{sx:{p:0},children:c.similar.map(e=>(0,s.jsx)(W.ZP,{sx:{p:0},children:(0,s.jsx)(es,{term:e})},e))})})]}):(0,s.jsx)(s.Fragment,{}),c.synsets.length?(0,s.jsxs)(E.Z,{children:[(0,s.jsx)(A.Z,{children:"Senses"}),(0,s.jsx)(_.Z,{sx:r,children:(0,s.jsx)(U.Z,{sx:{p:0},children:c.synsets.map(e=>(0,s.jsx)(W.ZP,{sx:{p:0},children:(0,s.jsx)(B,{info:e})},e.key))})})]}):(0,s.jsx)(s.Fragment,{})]})}let ei=(0,a.createContext)(e=>{});function el(e){let{term:t}=e,n=(0,a.useContext)(o),r=(0,a.useContext)(m),i=(0,a.useContext)(j),l=(0,a.useContext)(p);t in l||(l[t]=Z(t,n));let c=l[t];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{sx:{overflowY:"auto"},children:(0,s.jsx)(er,{term:t,maxHeight:"25vh"})}),(0,s.jsx)(b.Z,{sx:{justifyContent:"flex-end",mt:"auto"},children:(0,s.jsx)(k.Z,{onClick:()=>{i({type:c.term in r?"remove":"add",term:c.term})},children:c.term in r?"Remove":"Add"})})]})}function ea(e){let{info:t}=e;return(0,s.jsx)(C.Z,{sx:{overflowY:"auto",mb:"auto"},children:(0,s.jsx)(V,{info:t})})}function eo(e){let{state:t,index:n,request:r}=e;if(!t.length)return;let i=()=>r({type:"reset"}),l=t[n];return(0,s.jsx)(S.ZP,{open:""!==l.value,onClose:i,variant:"permanent",hideBackdrop:!0,anchor:"bottom",sx:{"& .MuiPaper-root":{height:"45vh",display:"flex",flexDirection:"column",justifyContent:"space-between"}},children:(0,s.jsxs)(w.Z,{children:[(0,s.jsx)(z.Z,{action:(0,s.jsx)(P.Z,{"aria-label":"Close",onClick:i,children:(0,s.jsx)(L.Z,{})}),title:(0,s.jsxs)(E.Z,{direction:"row",children:[(0,s.jsx)(k.Z,{onClick:()=>r({type:"move",direction:1}),disabled:n>=t.length-1,sx:{opacity:.7},children:t.length>n+1?t[n+1].value:""}),(0,s.jsx)(A.Z,{variant:"h4",children:l.value}),(0,s.jsx)(k.Z,{onClick:()=>r({type:"move",direction:-1}),disabled:n<1,sx:{opacity:.7},children:n>0?t[n-1].value:""})]})}),"term"===l.type?(0,s.jsx)(el,{term:l.value}):(0,s.jsx)(ea,{info:l.info})]})})}var ec=n(6882),ed=n(8938),ex=n(4989),eh=n(502),eu=n(6500),em=n(8440);function ej(e){let{terms:t,exists:n,add:r}=e,i=(0,a.useMemo)(()=>t?new Map(t.map(e=>[e,!0])):new Map,[t]),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[x,h]=(0,a.useState)([]),u=e=>{let t=e?"string"==typeof e?e:"innerText"in e.target?e.target.innerText:l:l;t&&!n(t)&&(r(t),h([]),o(""))},m=e=>{let t=e.target;if(t&&"value"in t){let e=t.value.toLowerCase();d(n(e)),o(e)}};return(0,s.jsx)(eu.Z,{component:"nav",children:(0,s.jsxs)(ex.Z,{variant:"dense",disableGutters:!0,children:[(0,s.jsx)(em.Z,{options:x,value:l,onKeyUp:e=>{if("code"in e&&"Enter"===e.code)u();else if(t){let e=[];l.length>2&&i.forEach((t,n)=>{n.startsWith(l)&&e.push(n)}),h(e)}},onChange:m,renderOption:(e,t)=>(0,a.createElement)("li",{...e,key:t,onClick:u},t),renderInput:e=>(0,s.jsx)(T.Z,{...e,variant:"filled",label:"Term to add",value:l,onKeyDown:e=>{"code"in e&&"Enter"===e.code&&u()},onChange:m,error:c}),fullWidth:!0,freeSolo:!0}),(0,s.jsx)(k.Z,{sx:{p:2},variant:"contained",onClick:()=>u(),disabled:c,children:"Add"})]})})}let ep=[{key:"terms",label:"Terms"},{key:"termAssociations",label:"Term Associations"},{key:"synsets",label:"Synsets"},{key:"synsetInfo",label:"Synset Info"}];function ef(e){let{loading:t,drawerOpen:n}=e,r=(0,a.useContext)(o),i=(0,a.useContext)(m),l=(0,a.useContext)(p),c=(0,a.useContext)(j),d=e=>e in i;return(0,s.jsx)(_.Z,{children:r.termAssociations&&r.synsetInfo?(0,s.jsxs)(ed.Z,{children:[(0,s.jsx)(ej,{terms:r.terms,exists:d,add:e=>{c({type:"add",term:e})}}),(0,s.jsxs)(_.Z,{component:"main",sx:{mb:n?"46vh":0},children:[(0,s.jsx)(ex.Z,{}),Object.keys(i).sort().map(e=>(0,s.jsx)(ee,{processed:l[e],onRemove:()=>{c({type:"remove",term:e})},onUpdate:t=>{t&&!d(t)&&c({type:"update",term:t,originalTerm:e})}},e))]})]}):(0,s.jsxs)(E.Z,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,s.jsx)(A.Z,{children:"Loading Resources..."}),(0,s.jsx)(U.Z,{children:ep.map(e=>{let{key:n,label:i}=e;return(0,s.jsx)(W.ZP,{children:(0,s.jsxs)(A.Z,{children:[r[n]?(0,s.jsx)($.Z,{color:"success"}):t[n]?(0,s.jsx)(ec.Z,{size:"1.5rem"}):(0,s.jsx)(eh.Z,{color:"error",sx:{marginBottom:-.8}}),r[n]||t[n]?"":"Failed to load ",i]})},n)})})]})})}let eg=(0,r.Z)({palette:{mode:"dark"}}),ey=(e,t)=>"reset"===t.type?[]:"trim"===t.type?[...t.state]:e.length&&e[0].value===t.state.value?[...e]:[t.state,...e];function eZ(){let[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!0),[u,m]=(0,a.useReducer)(ey,[]),[j,p]=(0,a.useState)(0),[f,g]=(0,a.useState)(0);return f&&j!==u.length&&(p(u.length),g(0)),(0,s.jsx)(a.StrictMode,{children:(0,s.jsxs)(i.Z,{theme:eg,children:[(0,s.jsx)(l.ZP,{}),(0,s.jsx)(c,{loadingTerms:t,loadingTermAssociations:r,loadingSynsets:d,loadingSynsetInfo:h,children:(0,s.jsx)(v,{children:(0,s.jsxs)(ei.Provider,{value:m,children:[(0,s.jsx)(ef,{loading:{terms:e,termAssociations:n,synsets:o,synsetInfo:x},drawerOpen:!!u.length}),(0,s.jsx)(eo,{state:u,index:f,request:e=>{let{type:t,direction:n}=e;"reset"===t?(m({type:"reset"}),g(0)):g(Math.max(0,Math.min(u.length-1,f+n))),p(u.length)}})]})})})]})})}}},function(e){e.O(0,[146,971,938,744],function(){return e(e.s=69)}),_N_E=e.O()}]);