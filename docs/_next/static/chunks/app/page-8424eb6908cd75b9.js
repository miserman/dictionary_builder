(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{69:function(e,t,s){Promise.resolve().then(s.bind(s,5371))},5371:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var n=s(7437),r=s(8595),i=s(3948),l=s(3857),a=s(2265);let o=(0,a.createContext)({});function c(e){let{loadingTerms:t,loadingTermAssociations:s,loadingSynsets:r,loadingSynsetInfo:i,children:l}=e,[c,d]=(0,a.useState)(),[x,h]=(0,a.useState)(),[u,m]=(0,a.useState)(),[j,f]=(0,a.useState)(),[p,g]=(0,a.useState)();return(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/terms.txt").then(e=>e.text()).then(e=>{let t=e.split("\n");d(t),h(";;"+t.join(";;")+";;")}).finally(()=>t(!1))},[t]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/term_associations.json").then(e=>e.json()).then(e=>{m(e)}).finally(()=>s(!1))},[s]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synsets.txt").then(e=>e.text()).then(e=>{f(e.split("\n"))}).finally(()=>r(!1))},[r]),(0,a.useEffect)(()=>{fetch("/dictionary_builder/data/synset_info.json").then(e=>e.json()).then(e=>{g(e)}).finally(()=>i(!1))},[i]),(0,n.jsx)(o.Provider,{value:{terms:c,collapsedTerms:x,termAssociations:u,synsets:j,synsetInfo:p},children:l})}var d=s(9245),x=s(3457),h=s(3226),u=s(5266),m=s(356),j=s(6882),f=s(8938),p=s(4989),g=s(8123),y=s(502);let Z=["'","'d","'in","'s","ac","age","ant","ary","at","cracy","cy","cycle","d","dom","e","ed","er","es","esque","est","ette","ey","ful","hood","ic","ie","ies","ify","in","ing","ion","ish","ive","ize","let","lets","lette","like","-like","ling","lings","log","ly","ley","ment","nce","ness","or","ous","ousness","ously","r","s","ship","st","th","ties","ty","ur","ward","wise","y","ys","z"],v=/\*/g,k=/^;|;$/g;function S(e,t){return e.length-t.length}var C=s(5133),b=s(6114),_=s(6096),E=s(9050),z=s(2653),A=s(8469),T=s(9872),w=s(4262),P=s(9394),N=s(1797),R=s(6337),I=s(2834);function F(e){let{term:t}=e,{terms:s,termAssociations:r,synsets:i,synsetInfo:l}=(0,a.useContext)(o),[c,j]=(0,a.useState)(!1);if(!s||!i||!l||!r||!s.includes(t))return(0,n.jsx)(E.Z,{variant:"text",disabled:!0,children:t});let f=r[s.indexOf(t)],p=f[0]?Array.isArray(f[0])?f[0]:[f[0]]:[],g=f[1]?Array.isArray(f[1])?f[1]:[f[1]]:[];return(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(E.Z,{variant:"text",onClick:()=>j(!0),children:t}),(0,n.jsxs)(P.Z,{open:c,onClose:()=>j(!1),scroll:"paper",children:[(0,n.jsx)(N.Z,{children:t}),(0,n.jsx)(z.Z,{"aria-label":"Close",sx:{position:"absolute",right:8,top:8},onClick:()=>j(!1),children:(0,n.jsx)(w.Z,{})}),(0,n.jsx)(R.Z,{children:(0,n.jsx)(R.Z,{children:(0,n.jsxs)(x.Z,{direction:"row",spacing:4,children:[p.length?(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(h.Z,{variant:"h5",children:"Similar Terms"}),(0,n.jsx)(u.Z,{sx:{p:0},children:p.map(e=>(0,n.jsx)(m.ZP,{sx:{p:0},children:(0,n.jsx)(F,{term:s[e-1]})},e))})]}):(0,n.jsx)(n.Fragment,{}),g.length?(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(h.Z,{variant:"h5",children:"Senses"}),(0,n.jsx)(u.Z,{sx:{p:0},children:g.map(e=>(0,n.jsx)(m.ZP,{sx:{p:0},children:(0,n.jsx)(F,{term:i[e-1]})},e))})]}):(0,n.jsx)(n.Fragment,{})]})})}),(0,n.jsx)(I.Z,{children:(0,n.jsx)(E.Z,{children:["a"].includes(t)?"Remove":"Add"})})]})]})}function O(e){let{term:t,onRemove:s,onUpdate:r}=e,[i,l]=(0,a.useState)(t.term);return(0,n.jsxs)(C.Z,{sx:{m:.5},children:[t.recognized?(0,n.jsx)(g.Z,{color:"success",sx:{fontSize:".8rem",position:"absolute"},"aria-label":"recognized"}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(b.Z,{title:(0,n.jsxs)(x.Z,{direction:"row",children:[(0,n.jsx)(_.Z,{variant:"standard",value:i,onChange:e=>e.target&&"value"in e.target&&l(e.target.value),onKeyUp:e=>"code"in e&&"Enter"===e.code&&r(i)}),i!==t.term?(0,n.jsx)(E.Z,{onClick:()=>{r(i)},children:"Update"}):(0,n.jsx)(n.Fragment,{})]}),action:(0,n.jsx)(z.Z,{onClick:s,children:(0,n.jsx)(w.Z,{})})}),(0,n.jsx)(A.Z,{children:(0,n.jsx)(x.Z,{direction:"row",children:"fixed"===t.type?(0,n.jsx)(K,{term:t}):(0,n.jsx)(U,{term:t})})})]})}function U(e){let{term:t}=e;return(0,n.jsxs)(T.Z,{children:[(0,n.jsxs)(h.Z,{children:["Matches"," ("+t.matches.length+")"]}),t.matches.length?(0,n.jsx)(d.Z,{sx:{maxHeight:200,overflowY:"auto"},children:(0,n.jsx)(u.Z,{sx:{marginLeft:"12px"},children:[...t.matches.filter(e=>e in t.common_matches).sort(S),...t.matches.filter(e=>!(e in t.common_matches)).sort(S)].map((e,s)=>{let r=t.common_matches[e];return(0,n.jsx)(m.ZP,{sx:{p:0},children:r?(0,n.jsxs)(h.Z,{className:""===r.part?"match-root":"",children:[(0,n.jsx)("span",{className:"term-root",children:r.root}),(0,n.jsx)("span",{children:r.part})]}):(0,n.jsx)(h.Z,{className:"match-uncommon",children:e})},s)})})}):(0,n.jsx)(h.Z,{children:"No matches"})]})}function K(e){let{term:t}=e;return(0,n.jsx)(T.Z,{elevation:1,children:(0,n.jsx)(F,{term:t.term})})}var W=s(6500),L=s(2104);function M(e){let{all_terms:t,exists:s,add:r}=e,[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)([]),h=e=>{let t=e?"string"==typeof e?e:"innerText"in e.target?e.target.innerText:i:i;t&&!s(t)&&(r(t),x([]),l(""))};return(0,n.jsx)(W.Z,{component:"nav",children:(0,n.jsxs)(p.Z,{variant:"dense",disableGutters:!0,children:[(0,n.jsx)(L.Z,{options:d,value:i,onKeyUp:e=>{"code"in e&&"Enter"===e.code?h():t&&x(i.length>2?t.filter(e=>e.startsWith(i)):[])},onChange:e=>{let t=e.target;t&&"value"in t&&(c(s(t.value)),l(t.value))},renderOption:(e,t)=>(0,a.createElement)("li",{...e,key:t,onClick:h},t),renderInput:e=>(0,n.jsx)(_.Z,{...e,variant:"filled",label:"Term to add",value:i,onKeyDown:e=>{"code"in e&&"Enter"===e.code&&h()},onChange:e=>{let t=e.target;t&&"value"in t&&(c(s(t.value)),l(t.value))},error:o}),fullWidth:!0,freeSolo:!0}),(0,n.jsx)(E.Z,{sx:{p:2},variant:"contained",onClick:()=>h(),disabled:o,children:"Add"})]})})}function q(e,t){let s={...e};return"remove"===t.type?delete s[t.term]:s[t.term]={categories:t.categories||{},sense:t.sense||""},s}let B=(0,a.createContext)({}),D=(0,a.createContext)(e=>{});function G(e){let{children:t}=e,[s,r]=(0,a.useReducer)(q,{});return(0,n.jsx)(B.Provider,{value:s,children:(0,n.jsx)(D.Provider,{value:r,children:t})})}function H(e){let{loading:t}=e,s=(0,a.useContext)(o),r=(0,a.useContext)(B),i=(0,a.useContext)(D),l=e=>{let t=v.test(e)?";"+e.replace(v,"[^;]*")+";":e;if(t===e)return{type:"fixed",term:e,categories:{},recognized:s.terms&&s.terms.includes(e),synsets:[],synset:""};{let n={type:"fuzzy",term:e,categories:{},recognized:!1,regex:RegExp(t,"g"),matches:[],common_matches:{}};if(s.collapsedTerms)for(let e;e=n.regex.exec(s.collapsedTerms);)n.matches.push(e[0].replace(k,""));return n.matches.length&&(n.recognized=!0,n.common_matches=function(e){let t={},s="";if(e.forEach(e=>{(!s||e.length<s.length)&&(s=e)}),s){let n=RegExp(s+"*");e.forEach(e=>{if(e===s)t[e]={root:s,part:""};else{let r=e.replace(n,"");-1!==Z.indexOf(r)&&(t[e]={root:s,part:e.replace(s,"")})}})}return t}(n.matches)),n}},c=e=>e in r,[S,C]=(0,a.useReducer)((e,t)=>{let s=[...e];return"remove"===t.key?s.splice(t.index,1):s["update"===t.key?t.index:e.length]=l(t.value),s},[]);return(0,n.jsx)(d.Z,{children:s.termAssociations&&s.synsetInfo?(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(M,{all_terms:s.terms,exists:c,add:e=>{i({type:"add",term:e}),C({key:"add",value:e})}}),(0,n.jsxs)(d.Z,{component:"main",children:[(0,n.jsx)(p.Z,{}),S.map((e,t)=>(0,n.jsx)(O,{term:e,onRemove:()=>{i({type:"remove",term:e.term}),C({key:"remove",index:t})},onUpdate:s=>{s&&!c(e.term)&&(i({type:"update",term:e.term}),C({key:"update",index:t,value:s}))}},t))]})]}):(0,n.jsxs)(x.Z,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,n.jsx)(h.Z,{children:"Loading Resources..."}),(0,n.jsx)(u.Z,{children:[{key:"terms",label:"Terms"},{key:"termAssociations",label:"Term Associations"},{key:"synsets",label:"Synsets"},{key:"synsetInfo",label:"Synset Info"}].map(e=>{let{key:r,label:i}=e;return(0,n.jsx)(m.ZP,{children:(0,n.jsxs)(h.Z,{children:[s[r]?(0,n.jsx)(g.Z,{color:"success"}):t[r]?(0,n.jsx)(j.Z,{size:"1.5rem"}):(0,n.jsx)(y.Z,{color:"error",sx:{marginBottom:-.8}}),s[r]||t[r]?"":"Failed to load ",i]})},r)})})]})})}let Y=(0,r.Z)({palette:{mode:"dark"}});function $(){let[e,t]=(0,a.useState)(!0),[s,r]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!0);return(0,n.jsx)(a.StrictMode,{children:(0,n.jsxs)(i.Z,{theme:Y,children:[(0,n.jsx)(l.ZP,{}),(0,n.jsx)(c,{loadingTerms:t,loadingTermAssociations:r,loadingSynsets:d,loadingSynsetInfo:h,children:(0,n.jsx)(G,{children:(0,n.jsx)(H,{loading:{terms:e,termAssociations:s,synsets:o,synsetInfo:x}})})})]})})}}},function(e){e.O(0,[101,971,938,744],function(){return e(e.s=69)}),_N_E=e.O()}]);